/**
 * Local Sandbox Provider
 *
 * A sandbox implementation that executes commands on the local machine.
 * This is the default sandbox for development and local agents.
 *
 * Supports optional native OS sandboxing:
 * - macOS: Uses seatbelt (sandbox-exec) for filesystem and network isolation
 * - Linux: Uses bubblewrap (bwrap) for namespace isolation
 */
import type { ProviderStatus } from '../lifecycle.js';
import { MastraSandbox } from './mastra-sandbox.js';
import type { MastraSandboxOptions } from './mastra-sandbox.js';
import type { IsolationBackend, NativeSandboxConfig } from './native-sandbox/index.js';
import type { SandboxInfo, ExecuteCommandOptions, CommandResult } from './types.js';
/**
 * Local sandbox provider configuration.
 */
export interface LocalSandboxOptions extends MastraSandboxOptions {
    /** Unique identifier for this sandbox instance */
    id?: string;
    /** Working directory for command execution */
    workingDirectory?: string;
    /**
     * Environment variables to set for command execution.
     * PATH is included by default unless overridden (needed for finding executables).
     * Other host environment variables are not inherited unless explicitly passed.
     *
     * @example
     * ```typescript
     * // Default - only PATH is available
     * env: undefined
     *
     * // Add specific variables
     * env: { NODE_ENV: 'production', HOME: process.env.HOME }
     *
     * // Full host environment (less secure)
     * env: process.env
     * ```
     */
    env?: NodeJS.ProcessEnv;
    /** Default timeout for operations in ms (default: 30000) */
    timeout?: number;
    /**
     * Isolation backend for sandboxed execution.
     * - 'none': No sandboxing (direct execution on host) - default
     * - 'seatbelt': macOS sandbox-exec (built-in on macOS)
     * - 'bwrap': Linux bubblewrap (requires installation)
     *
     * Use `LocalSandbox.detectIsolation()` to get the recommended backend.
     * @default 'none'
     */
    isolation?: IsolationBackend;
    /**
     * Configuration for native sandboxing.
     * Only used when isolation is 'seatbelt' or 'bwrap'.
     */
    nativeSandbox?: NativeSandboxConfig;
}
/**
 * Local sandbox implementation.
 *
 * Executes commands directly on the host machine.
 * This is the recommended sandbox for development and trusted local execution.
 *
 * @example
 * ```typescript
 * import { Workspace, LocalFilesystem, LocalSandbox } from '@mastra/core';
 *
 * const workspace = new Workspace({
 *   filesystem: new LocalFilesystem({ basePath: './my-workspace' }),
 *   sandbox: new LocalSandbox({ workingDirectory: './my-workspace' }),
 * });
 *
 * await workspace.init();
 * const result = await workspace.executeCommand('node', ['script.js']);
 * ```
 */
export declare class LocalSandbox extends MastraSandbox {
    readonly id: string;
    readonly name = "LocalSandbox";
    readonly provider = "local";
    status: ProviderStatus;
    private readonly _workingDirectory;
    private readonly env;
    private readonly timeout?;
    private readonly _isolation;
    private readonly _nativeSandboxConfig;
    private _seatbeltProfile?;
    private _seatbeltProfilePath?;
    private _sandboxFolderPath?;
    private _userProvidedProfilePath;
    private readonly _createdAt;
    /**
     * The working directory where commands are executed.
     */
    get workingDirectory(): string;
    /**
     * The isolation backend being used.
     */
    get isolation(): IsolationBackend;
    /**
     * Detect the best available isolation backend for this platform.
     * Returns detection result with backend recommendation and availability.
     *
     * @example
     * ```typescript
     * const result = LocalSandbox.detectIsolation();
     * const sandbox = new LocalSandbox({
     *   isolation: result.available ? result.backend : 'none',
     * });
     * ```
     */
    static detectIsolation(): import("./native-sandbox").SandboxDetectionResult;
    constructor(options?: LocalSandboxOptions);
    private generateId;
    /**
     * Build the environment object for execution.
     * Always includes PATH by default (needed for finding executables).
     * Merges the sandbox's configured env with any additional env from the command.
     */
    private buildEnv;
    /**
     * Start the local sandbox.
     * Creates working directory and sets up seatbelt profile if using macOS isolation.
     * Status management is handled by the base class.
     */
    start(): Promise<void>;
    /**
     * Stop the local sandbox.
     * Status management is handled by the base class.
     */
    stop(): Promise<void>;
    /**
     * Destroy the local sandbox and clean up resources.
     * Cleans up seatbelt profile if auto-generated.
     * Status management is handled by the base class.
     */
    destroy(): Promise<void>;
    isReady(): Promise<boolean>;
    getInfo(): Promise<SandboxInfo>;
    getInstructions(): string;
    /**
     * Wrap a command with the configured isolation backend.
     */
    private wrapCommandForIsolation;
    executeCommand(command: string, args?: string[], options?: ExecuteCommandOptions): Promise<CommandResult>;
}
//# sourceMappingURL=local-sandbox.d.ts.map